
FUNCTION factorial (n: INT32): INT32
	LOCAL result: INT32
	CONSTANT_1_INT32
	ST_LOCAL result
loop:
	LD_LOCAL n
	JZ16 done
	LD_LOCAL result
	LD_LOCAL n
	MULTIPLY
	ST_LOCAL result
	LD_LOCAL n
	CONSTANT_1_INT32
	SUBTRACT
	ST_LOCAL n
	JMP16 loop
done:
	LD_LOCAL result
	RETURN
END

NATIVE uint32_to_string
NATIVE print

CONSTANT INT32 5
CALL factorial
CALL uint32_to_string
CALL print
RETURN
